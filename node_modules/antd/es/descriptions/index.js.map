{"version":3,"sources":["descriptions/index.jsx"],"names":["React","classNames","toArray","warning","ResponsiveObserve","responsiveArray","ConfigConsumer","Col","DescriptionsItem","children","generateChildrenRows","column","rows","columns","leftSpans","itemNodes","forEach","node","index","itemNode","push","lastItem","length","lastSpanSame","props","span","cloneElement","renderRow","bordered","layout","colon","prefixCls","renderCol","colItem","type","idx","key","cloneChildren","cloneContentChildren","childrenItem","defaultColumnMap","xxl","xl","lg","md","sm","xs","Descriptions","arguments","state","screens","token","subscribe","setState","unsubscribe","i","breakpoint","undefined","getPrefixCls","className","customizePrefixCls","title","size","style","getColumn","map","child","isValidElement","filter","childrenArray","Component","defaultProps","Item"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport classNames from 'classnames';\nimport toArray from 'rc-util/lib/Children/toArray';\nimport warning from '../_util/warning';\nimport ResponsiveObserve, { responsiveArray, } from '../_util/responsiveObserve';\nimport { ConfigConsumer } from '../config-provider';\nimport Col from './Col';\nconst DescriptionsItem = ({ children }) => children;\n/**\n * Convert children into `column` groups.\n * @param children: DescriptionsItem\n * @param column: number\n */\nconst generateChildrenRows = (children, column) => {\n    const rows = [];\n    let columns = null;\n    let leftSpans;\n    const itemNodes = toArray(children);\n    itemNodes.forEach((node, index) => {\n        let itemNode = node;\n        if (!columns) {\n            leftSpans = column;\n            columns = [];\n            rows.push(columns);\n        }\n        // Always set last span to align the end of Descriptions\n        const lastItem = index === itemNodes.length - 1;\n        let lastSpanSame = true;\n        if (lastItem) {\n            lastSpanSame = !itemNode.props.span || itemNode.props.span === leftSpans;\n            itemNode = React.cloneElement(itemNode, {\n                span: leftSpans,\n            });\n        }\n        // Calculate left fill span\n        const { span = 1 } = itemNode.props;\n        columns.push(itemNode);\n        leftSpans -= span;\n        if (leftSpans <= 0) {\n            columns = null;\n            warning(leftSpans === 0 && lastSpanSame, 'Descriptions', 'Sum of column `span` in a line exceeds `column` of Descriptions.');\n        }\n    });\n    return rows;\n};\nconst renderRow = (children, index, { prefixCls }, bordered, layout, colon) => {\n    const renderCol = (colItem, type, idx) => {\n        return (<Col child={colItem} bordered={bordered} colon={colon} type={type} key={`${type}-${colItem.key || idx}`} layout={layout}/>);\n    };\n    const cloneChildren = [];\n    const cloneContentChildren = [];\n    toArray(children).forEach((childrenItem, idx) => {\n        cloneChildren.push(renderCol(childrenItem, 'label', idx));\n        if (layout === 'vertical') {\n            cloneContentChildren.push(renderCol(childrenItem, 'content', idx));\n        }\n        else if (bordered) {\n            cloneChildren.push(renderCol(childrenItem, 'content', idx));\n        }\n    });\n    if (layout === 'vertical') {\n        return [\n            <tr className={`${prefixCls}-row`} key={`label-${index}`}>\n        {cloneChildren}\n      </tr>,\n            <tr className={`${prefixCls}-row`} key={`content-${index}`}>\n        {cloneContentChildren}\n      </tr>,\n        ];\n    }\n    return (<tr className={`${prefixCls}-row`} key={index}>\n      {cloneChildren}\n    </tr>);\n};\nconst defaultColumnMap = {\n    xxl: 3,\n    xl: 3,\n    lg: 3,\n    md: 3,\n    sm: 2,\n    xs: 1,\n};\nclass Descriptions extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            screens: {},\n        };\n    }\n    componentDidMount() {\n        const { column } = this.props;\n        this.token = ResponsiveObserve.subscribe(screens => {\n            if (typeof column !== 'object') {\n                return;\n            }\n            this.setState({\n                screens,\n            });\n        });\n    }\n    componentWillUnmount() {\n        ResponsiveObserve.unsubscribe(this.token);\n    }\n    getColumn() {\n        const { column } = this.props;\n        if (typeof column === 'object') {\n            for (let i = 0; i < responsiveArray.length; i++) {\n                const breakpoint = responsiveArray[i];\n                if (this.state.screens[breakpoint] && column[breakpoint] !== undefined) {\n                    return column[breakpoint] || defaultColumnMap[breakpoint];\n                }\n            }\n        }\n        // If the configuration is not an object, it is a number, return number\n        if (typeof column === 'number') {\n            return column;\n        }\n        // If it is an object, but no response is found, this happens only in the test.\n        // Maybe there are some strange environments\n        return 3;\n    }\n    render() {\n        return (<ConfigConsumer>\n        {({ getPrefixCls }) => {\n            const { className, prefixCls: customizePrefixCls, title, size, children, bordered = false, layout = 'horizontal', colon = true, style, } = this.props;\n            const prefixCls = getPrefixCls('descriptions', customizePrefixCls);\n            const column = this.getColumn();\n            const cloneChildren = toArray(children)\n                .map((child) => {\n                if (React.isValidElement(child)) {\n                    return React.cloneElement(child, {\n                        prefixCls,\n                    });\n                }\n                return null;\n            })\n                .filter((node) => node);\n            const childrenArray = generateChildrenRows(cloneChildren, column);\n            return (<div className={classNames(prefixCls, className, {\n                [`${prefixCls}-${size}`]: size !== 'default',\n                [`${prefixCls}-bordered`]: !!bordered,\n            })} style={style}>\n              {title && <div className={`${prefixCls}-title`}>{title}</div>}\n              <div className={`${prefixCls}-view`}>\n                <table>\n                  <tbody>\n                    {childrenArray.map((child, index) => renderRow(child, index, {\n                prefixCls,\n            }, bordered, layout, colon))}\n                  </tbody>\n                </table>\n              </div>\n            </div>);\n        }}\n      </ConfigConsumer>);\n    }\n}\nDescriptions.defaultProps = {\n    size: 'default',\n    column: defaultColumnMap,\n};\nDescriptions.Item = DescriptionsItem;\nexport default Descriptions;\n"],"file":"index.js"}